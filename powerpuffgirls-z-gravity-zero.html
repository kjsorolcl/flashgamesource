<div id='ruffle'></div>
<script src='https://unpkg.com/@ruffle-rs/ruffle'></script>
<script>
    var swfobject = {};
    var player2;
    var ruffle2;

    function Mobile() { return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent); }
    var flashWidth = 0;
    var mobileWidth = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    flashWidth = Mobile() ? mobileWidth : 870;
    swfobject.embedSWF = function (url, cont, width, height) {
        console.log(url);
        var ruffle = window.RufflePlayer.newest(),
            player = Object.assign(document.getElementById(cont).appendChild(ruffle.createPlayer()), {
                width: width,
                height: height,
                style: 'width: ' + width + 'px; height: ' + height + 'px',
            });

        player.load({ url: url }).then(value => { console.log('then'); });
        player2 = player;
        ruffle2 = ruffle;
    }

    swfobject.embedSWF("https://kjsorolcl.github.io/powerpuff-girls-z-gravity-zero.swf", 'ruffle', flashWidth, 600);
</script>